<div class="tab-bar">
  <button [class.active]="activeTab === 'departments'" (click)="activeTab = 'departments'">Departments</button>
  <button [class.active]="activeTab === 'employees'" (click)="activeTab = 'employees'">Employees</button>
</div>

<div *ngIf="activeTab === 'departments'">
  <div class="departments">
    <div class="department-card" *ngFor="let department of departments$ | async">
      <span class="count">{{ department.employeeCount }}</span>
      <p>{{ department.name }}</p>
      <a class="delete-link" href="#" (click)="deleteDepartment(department.id); $event.preventDefault();">Delete</a>
    </div>
  </div>

  <button class="add-department" (click)="openAddModal()">Add Department</button>

  <div class="modal-overlay" *ngIf="showAddModal">
    <div class="modal-dialog" (keydown)="handleAddModalKey($event)">
      <h3>Add Department</h3>
      <input #addDeptInput type="text" [(ngModel)]="newDepartmentName" placeholder="Department name"
             (keydown.enter)="$event.preventDefault()"/>
      <div style="margin-top: 16px;">
        <button (click)="addDepartment()" [disabled]="!newDepartmentName.trim()">Add</button>
        <button (click)="closeAddModal()" style="margin-left: 8px;">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="activeTab === 'employees'">
  <div style="margin-top: 48px; text-align: center; color: #888; font-size: 20px;">
    Employee management coming soon... :)
  </div>
</div>
